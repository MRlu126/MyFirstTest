<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
         *{margin:0;padding: 5px;}
         #oul{
            width: 100%;
            height: 450px;
            border: 1px solid silver;
            border-bottom: 2px solid darkgoldenrod;
        }
        #oul>li{
            float: left;
            list-style: none;
            width: auto;
            padding: 10px;
        }
    </style>
</head>
<body>
<textarea name="content" id="inputval" cols="50" rows="6"></textarea><br/>
<button type="button" onclick="lfadd()">左侧入</button>
<button type="button" onclick="rgadd()">右侧入</button>
&nbsp;&nbsp;<b>/</b>&nbsp;&nbsp;
<button type="button" onclick="lfremove()">左侧出</button>
<button type="button" onclick="rgremove()">右侧出</button><br/>
查询文本框：<input type="text" placeholder="关键词" id="ser">
<button type="button" onclick="search()">查询</button>
<br/>队列如下：<br/><div>
    <ul id="oul">
        <!-- 队列 -->
    </ul>
</div>


<script>
    var input=document.getElementById("inputval");
    var oul=document.getElementById("oul");
    input.focus();
    function bg(){                             //随机填充背景色
             var r=Math.floor(Math.random()*255);
             var g=Math.floor(Math.random()*255);
             var b=Math.floor(Math.random()*255);
             return "rgb("+r+','+g+','+b+")";
         }
        // 左侧入
    function lfadd(){
    var oli=document.getElementsByTagName("li");
    var n=oli.length;
    if(n==30){
    alert("最多可输入30个！");
    }
    else if(input.value==""){
        alert("不能为空！");
        input.focus();
    }
    else{
        var oli=document.createElement("li");
        var pre=document.createElement("pre");
        pre.innerHTML=input.value;
        pre.style.color="white";
        oli.appendChild(pre);
        oli.style.background=bg();
        oul.prepend(oli);     //从队列前面插入
        input.focus();
        }
    }
    //右侧入
    function rgadd(){
    var oli=document.getElementsByTagName("li");
    var n=oli.length;
    if(n==30){
    alert("最多可输入30个！");
    }
    else if(input.value==""){
        alert("不能为空！");
        input.focus();
    }
    else{
        var oli=document.createElement("li");
        var pre=document.createElement("pre");
        pre.innerHTML=input.value;
        pre.style.color="white";
        oli.appendChild(pre);
        oli.style.background=bg();
        oul.append(oli);     //从队列前面插入
        input.focus();
        }
    }
/******************************************************************************************/
    // 左侧出
    function lfremove(){
    var first=document.getElementsByTagName("li")[0]; //找到li的第一个元素
    oul.removeChild(first);
    }
    // 右侧出
    function rgremove(){
    var li = document.querySelector("li:last-child");  //找到li的最后一个元素————知识点！
    oul.removeChild(li);
    }

/***************************************************************************************/
    function search(){
    var sour=document.getElementById("ser");
    var oli=document.getElementsByTagName("li");
    var pre=document.getElementsByTagName("pre")
    var arr=[];
  //将<li>标签放入空的arr数组中
    for(var i=0;i<oli.length;i++){
    arr[i]=pre[i];
    }
    for(var j=0;j<arr.length;j++){
        if(arr[j].innerHTML==sour.value){
            oli[j].style.background="tan";
            oli[j].style.border="2px solid red";
            alert(siblings(oli[j]));
    }

    }
}
    function siblings(elm) {
    var a = [];
    var p = elm.parentNode.children;
    for(var i =0,pl= p.length;i<pl;i++) {
    if(p[i] !== elm) a.push(p[i]);
    }
    return a;
    }
</script>
</body>
</html>
